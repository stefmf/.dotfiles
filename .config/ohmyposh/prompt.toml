# ─────────────────────────────────────────────
# prompt.toml  (Oh My Posh v5+)
# ─────────────────────────────────────────────
name = "omp-custom-ssh-oneline"

[console_title]
  # (optional—starship-style keys are ignored by OMP)

[appearance]
  # final_space / version / secondary_prompt / transient_prompt 
  # are not needed in OMP. OMP uses blocks only.

# ─────────────────────────────────────────────
# 1) First block: Path + Git (left-aligned, no newline)
# ─────────────────────────────────────────────
[[blocks]]
alignment = "left"
newline   = false    # KEEP this false so we stay on one line

  # ── Path Segment ──
  [[blocks.segments]]
    type  = "path"
    style = "folder"
    [blocks.segments.properties]
      theme            = "blue"     # folder color
      home_icon        = "~"        # show “~” instead of full home‐dir
      truncate_to_repo = true       # trim after repo root

  # ── Git Segment ──
  [[blocks.segments]]
    type  = "git"
    style = "powerline"
    [blocks.segments.properties]
      branch_icon    = " "   # the git-branch icon
      display_status = true   # show ●/✗ for unstaged/untracked files
      display_fetch  = true   # show ⇣/⇡ if behind/ahead
      theme          = "p:grey"

# ─────────────────────────────────────────────
# 2) Second block: SSH Indicator (right-aligned, no newline)
# ─────────────────────────────────────────────
[[blocks]]
alignment = "right"
newline   = false    # KEEP false so it tacks onto the same line as block #1

  [[blocks.segments]]
    type  = "ssh"
    style = "powerline"
    [blocks.segments.properties]
      icon             = "🔒"     # lock icon
      display_hostname = false    # only show “🔒 SSH” (no host.name)
      theme            = "green"

# ─────────────────────────────────────────────
# 3) Third block: Prompt Character (left-aligned, FORCE newline)
# ─────────────────────────────────────────────
[[blocks]]
alignment = "left"
newline   = true     # FORCE a newline so “❯” sits on line 2

  [[blocks.segments]]
    type  = "prompt"
    style = "plain"
    [blocks.segments.properties]
      character     = "❯"        # your actual prompt arrow
      color_success = "magenta"  # color when last exit code was 0
      color_error   = "red"      # color when last exit code ≠ 0
      add_newline   = false      # we already forced newline above
