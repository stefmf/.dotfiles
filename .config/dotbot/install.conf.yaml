- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- create:
    - ~/.zsh_sessions
    - ~/.config
    - "~/Library/Application Support/Sublime Text/Packages/User"
    - "~/Library/Application Support/Sublime Text/Installed Packages"
    - ~/.ssh

- link:
    ~/.config: .config
    ~/.zlogout: .zsh/.zlogout
    ~/.zlogin: .zsh/.zlogin
    ~/.zshenv: .zsh/.zshenv
    ~/.zprofile: .zsh/.zprofile
    ~/.zshrc: .zsh/.zshrc
    /opt/homebrew/etc/dnsmasq.conf: .config/dnsmasq/dnsmasq.conf
    "~/Library/Application Support/Sublime Text/Packages/User": .config/sublime/User
    "~/Library/Application Support/Sublime Text/Installed Packages": .config/sublime/Installed Packages

    # Special case: only link ~/.ssh/config if it doesnâ€™t already exist
    ~/.ssh/config:
      path: ssh/config
      relink: false
      force: false

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [rm -f ~/.bashrc ~/.bash_profile, Removing Bash configuration files]
